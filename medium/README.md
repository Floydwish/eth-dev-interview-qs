# ğŸš€ ä»¥å¤ªåŠå¼€å‘è€…é¢è¯•é—®é¢˜ - Medium éš¾åº¦

> æœ¬ç›®å½•åŒ…å« 43 ä¸ªä»¥å¤ªåŠå¼€å‘è€…é¢è¯•è¿›é˜¶é—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜éƒ½æœ‰è¯¦ç»†çš„ä¸­æ–‡ç­”æ¡ˆã€‚é€‚åˆæœ‰ä¸€å®šåŸºç¡€çš„å¼€å‘è€…æ·±å…¥å­¦ä¹ å’Œå‡†å¤‡é¢è¯•ä½¿ç”¨ã€‚

## ğŸ“‹ ç›®å½•

| # | é—®é¢˜ | çŠ¶æ€ |
|---|------|------|
| 1 | [transfer vs send çš„åŒºåˆ«](#1-transfer-vs-send-çš„åŒºåˆ«) | âœ… å·²å®Œæˆ |
| 2 | [ä»£ç†åˆçº¦ä¸­çš„å­˜å‚¨å†²çª](#2-ä»£ç†åˆçº¦ä¸­çš„å­˜å‚¨å†²çª) | âœ… å·²å®Œæˆ |
| 3 | [abi.encode vs abi.encodePacked](#3-abiencode-vs-abiencodepacked) | âœ… å·²å®Œæˆ |
| 4 | [uint ç±»å‹å¤§å°å’Œæ—¶é—´æˆ³å˜åŒ–](#4-uint-ç±»å‹å¤§å°å’Œæ—¶é—´æˆ³å˜åŒ–) | âœ… å·²å®Œæˆ |
| 5 | [ä»€ä¹ˆæ˜¯æŠ¢å…ˆäº¤æ˜“](#5-ä»€ä¹ˆæ˜¯æŠ¢å…ˆäº¤æ˜“) | âœ… å·²å®Œæˆ |
| 6 | [æäº¤-æ­ç¤ºæ–¹æ¡ˆ](#6-æäº¤-æ­ç¤ºæ–¹æ¡ˆ) | â³ å¾…å®Œå–„ |
| 7 | [abi.encodePacked çš„æ¼æ´](#7-abiencodepacked-çš„æ¼æ´) | â³ å¾…å®Œå–„ |
| 8 | [EIP-1559 å¦‚ä½•ç¡®å®š BASEFEE](#8-eip-1559-å¦‚ä½•ç¡®å®š-basefee) | â³ å¾…å®Œå–„ |
| 9 | [å†·è¯»å– vs çƒ­è¯»å–](#9-å†·è¯»å–-vs-çƒ­è¯»å–) | â³ å¾…å®Œå–„ |
| 10 | [AMM å¦‚ä½•å®šä»·èµ„äº§](#10-amm-å¦‚ä½•å®šä»·èµ„äº§) | â³ å¾…å®Œå–„ |
| 11 | [ä»£ç†åˆçº¦ä¸­çš„å‡½æ•°é€‰æ‹©å™¨å†²çª](#11-ä»£ç†åˆçº¦ä¸­çš„å‡½æ•°é€‰æ‹©å™¨å†²çª) | â³ å¾…å®Œå–„ |
| 12 | [payable å¯¹ gas çš„å½±å“](#12-payable-å¯¹-gas-çš„å½±å“) | â³ å¾…å®Œå–„ |
| 13 | [ç­¾åé‡æ”¾æ”»å‡»](#13-ç­¾åé‡æ”¾æ”»å‡») | â³ å¾…å®Œå–„ |
| 14 | [è®¾è®¡é˜²ä½œå¼Šçš„çŸ³å¤´å‰ªåˆ€å¸ƒæ¸¸æˆ](#14-è®¾è®¡é˜²ä½œå¼Šçš„çŸ³å¤´å‰ªåˆ€å¸ƒæ¸¸æˆ) | â³ å¾…å®Œå–„ |
| 15 | [è‡ªç”±å†…å­˜æŒ‡é’ˆ](#15-è‡ªç”±å†…å­˜æŒ‡é’ˆ) | â³ å¾…å®Œå–„ |
| 16 | [æ¥å£å‡½æ•°ä¿®é¥°ç¬¦](#16-æ¥å£å‡½æ•°ä¿®é¥°ç¬¦) | â³ å¾…å®Œå–„ |
| 17 | [memory vs calldata](#17-memory-vs-calldata) | â³ å¾…å®Œå–„ |
| 18 | [å­˜å‚¨å†™å…¥çš„ä¸‰ç§ gas æˆæœ¬](#18-å­˜å‚¨å†™å…¥çš„ä¸‰ç§-gas-æˆæœ¬) | â³ å¾…å®Œå–„ |
| 19 | [å¯å‡çº§åˆçº¦ä¸ºä½•ä¸ç”¨æ„é€ å‡½æ•°](#19-å¯å‡çº§åˆçº¦ä¸ºä½•ä¸ç”¨æ„é€ å‡½æ•°) | â³ å¾…å®Œå–„ |
| 20 | [UUPS vs é€æ˜ä»£ç†æ¨¡å¼](#20-uups-vs-é€æ˜ä»£ç†æ¨¡å¼) | â³ å¾…å®Œå–„ |
| 21 | [delegatecall ç©ºåœ°å€çš„è¡Œä¸º](#21-delegatecall-ç©ºåœ°å€çš„è¡Œä¸º) | â³ å¾…å®Œå–„ |
| 22 | [ERC777 ä»£å¸çš„å±é™©](#22-erc777-ä»£å¸çš„å±é™©) | â³ å¾…å®Œå–„ |
| 23 | [å‡½æ•°æ’åºè§„èŒƒ](#23-å‡½æ•°æ’åºè§„èŒƒ) | â³ å¾…å®Œå–„ |
| 24 | [å‡½æ•°ä¿®é¥°ç¬¦æ’åºè§„èŒƒ](#24-å‡½æ•°ä¿®é¥°ç¬¦æ’åºè§„èŒƒ) | â³ å¾…å®Œå–„ |
| 25 | [è”åˆæ›²çº¿](#25-è”åˆæ›²çº¿) | â³ å¾…å®Œå–„ |
| 26 | [_safeMint vs _mint](#26-_safemint-vs-_mint) | â³ å¾…å®Œå–„ |
| 27 | [Solidity æ—¶é—´æµ‹é‡å…³é”®å­—](#27-solidity-æ—¶é—´æµ‹é‡å…³é”®å­—) | â³ å¾…å®Œå–„ |
| 28 | [ä¸‰æ˜æ²»æ”»å‡»](#28-ä¸‰æ˜æ²»æ”»å‡») | â³ å¾…å®Œå–„ |
| 29 | [delegatecall å‡½æ•°å›é€€è¡Œä¸º](#29-delegatecall-å‡½æ•°å›é€€è¡Œä¸º) | â³ å¾…å®Œå–„ |
| 30 | [2çš„å¹‚æ¬¡ä¹˜é™¤çš„é«˜æ•ˆæ›¿ä»£](#30-2çš„å¹‚æ¬¡ä¹˜é™¤çš„é«˜æ•ˆæ›¿ä»£) | â³ å¾…å®Œå–„ |
| 31 | [ä¸ address æ‰“åŒ…çš„æœ€å¤§ uint](#31-ä¸-address-æ‰“åŒ…çš„æœ€å¤§-uint) | â³ å¾…å®Œå–„ |
| 32 | [éƒ¨åˆ†é€€è¿˜ gas çš„æ“ä½œ](#32-éƒ¨åˆ†é€€è¿˜-gas-çš„æ“ä½œ) | â³ å¾…å®Œå–„ |
| 33 | [ERC165 çš„ç”¨é€”](#33-erc165-çš„ç”¨é€”) | â³ å¾…å®Œå–„ |
| 34 | [delegatecall ä¸­çš„ä½™é¢æŸ¥è¯¢](#34-delegatecall-ä¸­çš„ä½™é¢æŸ¥è¯¢) | â³ å¾…å®Œå–„ |
| 35 | [æ»‘ç‚¹å‚æ•°çš„ç”¨é€”](#35-æ»‘ç‚¹å‚æ•°çš„ç”¨é€”) | â³ å¾…å®Œå–„ |
| 36 | [ERC721A é™ä½é“¸é€ æˆæœ¬](#36-erc721a-é™ä½é“¸é€ æˆæœ¬) | â³ å¾…å®Œå–„ |
| 37 | [Solidity ä¸æ”¯æŒæµ®ç‚¹è¿ç®—](#37-solidity-ä¸æ”¯æŒæµ®ç‚¹è¿ç®—) | â³ å¾…å®Œå–„ |
| 38 | [ä»€ä¹ˆæ˜¯ TWAP](#38-ä»€ä¹ˆæ˜¯-twap) | â³ å¾…å®Œå–„ |
| 39 | [Compound å¦‚ä½•è®¡ç®—åˆ©ç”¨ç‡](#39-compound-å¦‚ä½•è®¡ç®—åˆ©ç”¨ç‡) | â³ å¾…å®Œå–„ |
| 40 | [delegatecall è¯»å– immutable å˜é‡](#40-delegatecall-è¯»å–-immutable-å˜é‡) | â³ å¾…å®Œå–„ |
| 41 | [è½¬è´¦æ—¶æ”¶è´¹ä»£å¸](#41-è½¬è´¦æ—¶æ”¶è´¹ä»£å¸) | â³ å¾…å®Œå–„ |
| 42 | [é‡æ–°å®šåŸºä»£å¸](#42-é‡æ–°å®šåŸºä»£å¸) | â³ å¾…å®Œå–„ |
| 43 | [uint32 æ—¶é—´æˆ³æº¢å‡ºå¹´ä»½](#43-uint32-æ—¶é—´æˆ³æº¢å‡ºå¹´ä»½) | â³ å¾…å®Œå–„ |
| 44 | [DeFi ä¸­çš„ LTV](#44-defi-ä¸­çš„-ltv) | â³ å¾…å®Œå–„ |
| 45 | [aTokens å’Œ cTokens](#45-atokens-å’Œ-ctokens) | â³ å¾…å®Œå–„ |
| 46 | [ä½¿ç”¨å€Ÿè´·åè®®åšå¤šåšç©º](#46-ä½¿ç”¨å€Ÿè´·åè®®åšå¤šåšç©º) | â³ å¾…å®Œå–„ |
| 47 | [æ°¸ç»­åè®®](#47-æ°¸ç»­åè®®) | â³ å¾…å®Œå–„ |

---

## 1. transfer vs send çš„åŒºåˆ«

**é—®é¢˜**: What is the difference between transfer and send? Why should they not be used?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

- transfer: è½¬ 2300 gasï¼Œå¤±è´¥è‡ªåŠ¨å›é€€ï¼ˆrevertï¼‰
- send: è½¬ 2300 gasï¼Œå¤±è´¥è¿”å› falseï¼ˆéœ€æ‰‹åŠ¨æ£€æŸ¥ï¼‰
- ä¸æ¨èä½¿ç”¨äºŒè€…ï¼›æ¨èä½¿ç”¨ call{value: x}("") å¹¶æ˜¾å¼æ£€æŸ¥è¿”å›å€¼ä¸å¤„ç†é‡å…¥

### ğŸ“ è¯¦ç»†è¯´æ˜

- 2300 gas æ´¥è´´å‡è®¾è„†å¼±ï¼Œéš EVM è´¹ç”¨å˜æ›´å¯èƒ½ä¸è¶³ï¼Œå¯¼è‡´ä¸å¯é¢„æœŸå¤±è´¥ï¼ˆå¦‚ EIP-1884 ä¹‹åï¼‰
- send éœ€è¦æ˜¾å¼æ£€æŸ¥è¿”å›å€¼ï¼›transfer ä¼šç¡¬æ€§å›é€€ï¼Œå‡å¯èƒ½é€ æˆå¯ç”¨æ€§é—®é¢˜
- æ›´å®‰å…¨é€šç”¨åšæ³•ï¼š`(bool ok, ) = to.call{value: amount}(""); 
  require(ok, "ETH send failed");` å¹¶é…åˆæ£€æŸ¥-æ•ˆæœ-äº¤äº’ä¸é‡å…¥ä¿æŠ¤

---

## 2. ä»£ç†åˆçº¦ä¸­çš„å­˜å‚¨å†²çª

**é—®é¢˜**: What is a storage collision in a proxy contract?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

å­˜å‚¨å†²çªæ˜¯æŒ‡å®ç°åˆçº¦ç»ç”± delegatecall å†™å…¥ä»£ç†åˆçº¦çš„å­˜å‚¨æ—¶ï¼Œå› æ§½ä½å¸ƒå±€ä¸ä¸€è‡´è€Œäº’ç›¸è¦†ç›–/æ±¡æŸ“çŠ¶æ€ã€‚

### ğŸ“ è¯¦ç»†è¯´æ˜

- åŸå› ï¼šdelegatecall åœ¨ä»£ç†çš„å­˜å‚¨ä¸Šä¸‹æ–‡æ‰§è¡Œï¼›è‹¥æ–°å¢/é‡æ’/åˆ é™¤çŠ¶æ€å˜é‡ï¼Œæ§½ä½ç¼–å·å˜åŒ–å³é€ æˆè¦†ç›–
- é¢„é˜²ï¼š
  - é‡‡ç”¨ EIP-1967 å›ºå®šæ§½ä½å­˜æ”¾å®ç°/ç®¡ç†å‘˜åœ°å€
  - å‡çº§ä»…â€œè¿½åŠ â€å˜é‡ï¼Œä¸é‡æ’ï¼›ä½¿ç”¨ storage gapï¼ˆå¦‚ `uint256[50] __gap;`ï¼‰
  - å¯¹ç‹¬ç«‹åº“ä½¿ç”¨ä¸“ç”¨ keccak æ§½ä½ï¼ˆå‘½åç©ºé—´ï¼‰æˆ–æ˜ å°„å‹å­˜å‚¨

---

## 3. abi.encode vs abi.encodePacked

**é—®é¢˜**: What is the difference between abi.encode and abi.encodePacked?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

- abi.encode: æ ‡å‡† ABI ç¼–ç ï¼ŒæŒ‰ 32 å­—èŠ‚å¯¹é½ï¼ŒåŠ¨æ€ç±»å‹å«é•¿åº¦ä¸åç§»ï¼›å®‰å…¨å¯é€†
- abi.encodePacked: ç´§å‡‘æ‹¼æ¥ï¼Œæ— å¡«å……ï¼›æ›´çœ gasï¼Œä½†å¤šåŠ¨æ€ç±»å‹ç»„åˆæ—¶å¯èƒ½äº§ç”Ÿå“ˆå¸Œç¢°æ’

### ğŸ“ è¯¦ç»†è¯´æ˜

-----

# ğŸ“ `abi.encode` ä¸ `abi.encodePacked` æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”

åœ¨ Solidity å’Œ EVM å¼€å‘ä¸­ï¼Œç†è§£ `abi.encode` å’Œ `abi.encodePacked` çš„åŒºåˆ«è‡³å…³é‡è¦ï¼Œå®ƒç›´æ¥å½±å“ Gas æˆæœ¬ã€è·¨åˆçº¦è°ƒç”¨å’Œæ•°æ®å“ˆå¸Œçš„å®‰å…¨æ€§ã€‚

æ‚¨å¯ä»¥å°†å®ƒä»¬ç†è§£ä¸ºä¸¤ç§ä¸åŒçš„**æ•°æ®æ‰“åŒ…è§„åˆ™**ï¼šä¸€ç§æ˜¯ä¸ºäº†**å®‰å…¨å’Œå¯è§£ç **ï¼Œå¦ä¸€ç§æ˜¯ä¸ºäº†**ç´§å‡‘å’ŒèŠ‚çœç©ºé—´**ã€‚

-----

## ğŸ”¬ å¯¹æ¯”æ€»è§ˆ

| ç‰¹æ€§ | `abi.encode` (è§„èŒƒç¼–ç ) | `abi.encodePacked` (ç´§å‡‘ç¼–ç ) |
| :--- | :--- | :--- |
| **åº•å±‚æœºåˆ¶** | ä¸¥æ ¼éµå¾ª **ABI è§„èŒƒ**ã€‚ç¼–ç æ˜¯ç¡®å®šçš„ã€æœ‰è¾¹ç•Œçš„ã€‚ | **ä¸éµå¾ª ABI è§„èŒƒ**ã€‚æ•°æ®ç´§å¯†æ‹¼æ¥ï¼Œæ²¡æœ‰æ ‡å‡†è¾¹ç•Œã€‚ |
| **å¡«å…… (Padding)** | **å¼ºåˆ¶å¡«å……**ã€‚æ¯ä¸ªé™æ€ç±»å‹ï¼ˆå¦‚ `uint256`ã€`address`ï¼‰éƒ½ä¼šè¢«ç²¾ç¡®å¡«å……åˆ° **32 å­—èŠ‚ï¼ˆ256 ä½ï¼‰**ã€‚ | **æå°‘å¡«å……**ã€‚æ•°æ®åªå ç”¨å…¶æœ€å°å­—èŠ‚ç©ºé—´ã€‚ |
| **å¯è§£ç æ€§** | **é«˜**ã€‚ä¸“ä¸ºè·¨åˆçº¦æˆ–å¤–éƒ¨åº”ç”¨**å®‰å…¨è§£ç **è€Œè®¾è®¡ã€‚ | **ä½ï¼ˆé€šå¸¸æ— æ³•è§£ç ï¼‰**ã€‚ä¸»è¦ç”¨äºå“ˆå¸Œï¼Œ**ä¸ç”¨äºè§£ç **ã€‚ |
| **ç¼–ç å¤§å°** | è¾ƒå¤§ï¼Œå› ä¸ºæœ‰å¤§é‡çš„ $\text{0x00}$ å¡«å……ã€‚ | **æœ€å°**ï¼Œå› ä¸ºå®ƒæ’é™¤äº†ä¸å¿…è¦çš„å¡«å……ã€‚ |
| **ä¸»è¦åº”ç”¨** | 1. **å¤–éƒ¨å‡½æ•°è°ƒç”¨**ï¼ˆå°†å‚æ•°æ‰“åŒ…åˆ° $\text{calldata}$ï¼‰ã€‚ 2. **äº‹ä»¶ï¼ˆEventsï¼‰çš„ $\text{data}$ éƒ¨åˆ†ã€‚ | 1. è®¡ç®—å“ˆå¸Œï¼ˆå¦‚ $\text{keccak256}$ï¼‰å’Œç”Ÿæˆç­¾åæ•°æ®**ã€‚ 2. **Merkle Proof** çš„æ•°æ®æ‰“åŒ…ã€‚ |
| **ä¸»è¦é£é™©** | å‡ ä¹æ²¡æœ‰å®‰å…¨é£é™©ã€‚ | ğŸš¨ **å“ˆå¸Œå†²çªï¼ˆHash Collisionï¼‰**ï¼šä¸åŒè¾“å…¥å¯èƒ½äº§ç”Ÿç›¸åŒå“ˆå¸Œï¼Œæ„æˆå®‰å…¨é£é™©ã€‚ |

-----

## æ·±å…¥ç†è§£ï¼šå¡«å……ä¸å®‰å…¨

### 1\. `abi.encode` (å®‰å…¨é€šä¿¡)

`abi.encode` çš„æ ¸å¿ƒæ˜¯**æ— æ­§ä¹‰æ€§**ã€‚

å‡è®¾æˆ‘ä»¬è¦ç¼–ç  `(uint128(1), uint128(2))`ã€‚

| å…ƒç´  | å®é™…å¤§å° | `abi.encode` ç¼–ç ç»“æœ | å ç”¨ç©ºé—´ |
| :--- | :--- | :--- | :--- |
| `uint128(1)` | 16 å­—èŠ‚ | `0x00...0001` (å·¦ä¾§å¡«å…… 16 å­—èŠ‚ $\text{0s}$) | 32 å­—èŠ‚ |
| `uint128(2)` | 16 å­—èŠ‚ | `0x00...0002` (å·¦ä¾§å¡«å…… 16 å­—èŠ‚ $\text{0s}$) | 32 å­—èŠ‚ |
| **æ€»ç»“æœ** | | `0x00...0001 0x00...0002` | **64 å­—èŠ‚** |

**åŸç†ï¼š** æ— è®ºæ•°æ®å¤šå°ï¼Œéƒ½å æ®ä¸€ä¸ª 32 å­—èŠ‚çš„â€œç›’å­â€ã€‚æ¥æ”¶è€…çŸ¥é“æ¯ 32 å­—èŠ‚å°±æ˜¯ä¸€ä¸ªå‚æ•°ï¼Œå› æ­¤å¯ä»¥å®‰å…¨åœ°è¿›è¡Œè·¨åˆçº¦è°ƒç”¨ã€‚

### 2\. `abi.encodePacked` (æåº¦ç´§å‡‘)

`abi.encodePacked` çš„æ ¸å¿ƒæ˜¯**ç´§å‡‘**ã€‚å®ƒä¼šå°†æ•°æ®ç´§å¯†è¿æ¥ï¼Œåªä¿ç•™æ•°æ®æœ¬èº«æ‰€éœ€çš„æœ€å°å­—èŠ‚æ•°ã€‚

| å…ƒç´  | å®é™…å¤§å° | `abi.encodePacked` ç¼–ç ç»“æœ | å ç”¨ç©ºé—´ |
| :--- | :--- | :--- | :--- |
| `uint128(1)` | 16 å­—èŠ‚ | `0x00...0001` (æ²¡æœ‰é¢å¤–å¡«å……) | 16 å­—èŠ‚ |
| `uint128(2)` | 16 å­—èŠ‚ | `0x00...0002` (æ²¡æœ‰é¢å¤–å¡«å……) | 16 å­—èŠ‚ |
| **æ€»ç»“æœ** | | `0x00...0001 0x00...0002` | **32 å­—èŠ‚** |

#### âš ï¸ é£é™©è­¦å‘Šï¼šå“ˆå¸Œå†²çª

æ­£æ˜¯ç”±äºè¿™ç§ç´§å‡‘æ€§ï¼Œå¦‚æœç¼–ç çš„ç±»å‹ä¸å½“ï¼ˆå¦‚æ··åˆä½¿ç”¨ `uint8`, `uint16`, `uint32` ç­‰ï¼‰ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´ **å“ˆå¸Œå†²çª**ï¼š

```solidity
// é£é™©ç¤ºä¾‹ï¼šä¸¤ä¸ªä¸åŒçš„è¾“å…¥ï¼Œå¾—åˆ°ç›¸åŒçš„å“ˆå¸Œï¼
// Input A: 0x01 + 0x0203 = 0x010203
keccak256(abi.encodePacked(uint8(1), uint16(0x0203))); 

// Input B: 0x0102 + 0x03 = 0x010203
keccak256(abi.encodePacked(uint16(0x0102), uint8(3))); 

// å®ƒä»¬ä¼šäº§ç”Ÿç›¸åŒçš„å­—èŠ‚ä¸² '0x010203'ï¼Œä»è€Œå¯¼è‡´å“ˆå¸Œå†²çªã€‚
```

å› æ­¤ï¼Œå»ºè®®åœ¨éœ€è¦å“ˆå¸Œæ—¶ï¼Œå¯¹æ•°æ®ç±»å‹ï¼ˆå¦‚ `address` æˆ– `bytes32`ï¼‰è¿›è¡Œæ˜¾å¼è½¬æ¢ï¼Œä»¥ç¡®ä¿ç±»å‹å®‰å…¨ã€‚

---

## 4. uint ç±»å‹å¤§å°å’Œæ—¶é—´æˆ³å˜åŒ–

**é—®é¢˜**: uint8, uint32, uint64, uint128, uint256 are all valid uint sizes. Are there others? What changed with block.timestamp before and after proof of stake?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

- uint æœ‰æ•ˆå°ºå¯¸ï¼šuint8â€¦uint256ï¼ˆæ¯ 8 ä½é€’å¢ï¼‰ï¼›`uint` æ˜¯ `uint256` çš„åˆ«å
- PoW æ—¶ä»£ `block.timestamp` å¯è¢«çŸ¿å·¥åœ¨å°èŒƒå›´å†…æ“çºµï¼›PoS æ—¶ä»£æ—¶é—´æˆ³ä¸æ’æ§½æ—¶é—´ï¼ˆçº¦ 12s/slotï¼‰ç»‘å®šï¼Œæ“çºµç©ºé—´æ˜¾è‘—é™ä½

### ğŸ“ è¯¦ç»†è¯´æ˜

- PoS ä¸‹æè®®è€…å¿…é¡»ä½¿ç”¨ä¸ä¿¡æ ‡é“¾æ’æ§½å¯¹åº”çš„æ—¶é—´æˆ³ï¼ˆä¸¥æ ¼é€’å¢ï¼‰ï¼Œä¸å†èƒ½ä»»æ„å¾®è°ƒ
- ä»ä¸åº”ç”¨ä½œå¼ºéšæœºæºæˆ–å®‰å…¨å…³é”®æ¡ä»¶ï¼Œä»…é€‚åˆå®½æ¾æ—¶é—´çª—æ ¡éªŒ

---

## 5. ä»€ä¹ˆæ˜¯æŠ¢å…ˆäº¤æ˜“

**é—®é¢˜**: What is frontrunning?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

æŠ¢å…ˆäº¤æ˜“ï¼ˆFrontrunningï¼‰æ˜¯è§‚å¯Ÿå†…å­˜æ± äº¤æ˜“åï¼Œæäº¤æ›´é«˜è´¹ç”¨çš„äº¤æ˜“ä»¥åœ¨å…¶ä¹‹å‰æ‰§è¡Œï¼Œä»è€Œè·åˆ©çš„ä¸€ç±» MEV è¡Œä¸ºã€‚

### ğŸ“ è¯¦ç»†è¯´æ˜

- å½¢å¼ï¼šæ’å…¥ï¼ˆå¦‚ä¸‰æ˜æ²»æ”»å‡»ï¼‰ã€æ›¿æ¢ã€å–æ¶ˆ
- ç¼“è§£ï¼šç§æœ‰äº¤æ˜“/ä¸­ç»§ï¼ˆFlashbotsã€MEV-Boostï¼‰ã€æäº¤-æ­ç¤ºã€è®¾ç½®æ»‘ç‚¹/æˆªæ­¢æ—¶é—´ã€æ‰¹é‡æ‹å–æ’®åˆ

---

## 6. æäº¤-æ­ç¤ºæ–¹æ¡ˆ

**é—®é¢˜**: What is a commit-reveal scheme and when would you use it?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 7. abi.encodePacked çš„æ¼æ´

**é—®é¢˜**: Under what circumstances could abi.encodePacked create a vulnerability?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 8. EIP-1559 å¦‚ä½•ç¡®å®š BASEFEE

**é—®é¢˜**: How does Ethereum determine the BASEFEE in EIP-1559?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 9. å†·è¯»å– vs çƒ­è¯»å–

**é—®é¢˜**: What is the difference between a cold read and a warm read?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 10. AMM å¦‚ä½•å®šä»·èµ„äº§

**é—®é¢˜**: How does an AMM price assets?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 11. ä»£ç†åˆçº¦ä¸­çš„å‡½æ•°é€‰æ‹©å™¨å†²çª

**é—®é¢˜**: What is a function selector clash in a proxy and how does it happen?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 12. payable å¯¹ gas çš„å½±å“

**é—®é¢˜**: What is the effect on gas of making a function payable?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 13. ç­¾åé‡æ”¾æ”»å‡»

**é—®é¢˜**: What is a signature replay attack?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 14. è®¾è®¡é˜²ä½œå¼Šçš„çŸ³å¤´å‰ªåˆ€å¸ƒæ¸¸æˆ

**é—®é¢˜**: How would you design a game of rock-paper-scissors in a smart contract such that players cannot cheat?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 15. è‡ªç”±å†…å­˜æŒ‡é’ˆ

**é—®é¢˜**: What is the free memory pointer and where is it stored?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 16. æ¥å£å‡½æ•°ä¿®é¥°ç¬¦

**é—®é¢˜**: What function modifiers are valid for interfaces?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 17. memory vs calldata

**é—®é¢˜**: What is the difference between memory and calldata in a function argument?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 18. å­˜å‚¨å†™å…¥çš„ä¸‰ç§ gas æˆæœ¬

**é—®é¢˜**: Describe the three types of storage gas costs for writes.

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 19. å¯å‡çº§åˆçº¦ä¸ºä½•ä¸ç”¨æ„é€ å‡½æ•°

**é—®é¢˜**: Why shouldn't upgradeable contracts use the constructor?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 20. UUPS vs é€æ˜ä»£ç†æ¨¡å¼

**é—®é¢˜**: What is the difference between UUPS and the Transparent Upgradeable Proxy pattern?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 21. delegatecall ç©ºåœ°å€çš„è¡Œä¸º

**é—®é¢˜**: If a contract delegatecalls an empty address or an implementation that was previously self-destructed, what happens? What if it is a low-level call instead of a delegatecall?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 22. ERC777 ä»£å¸çš„å±é™©

**é—®é¢˜**: What danger do ERC777 tokens pose?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 23. å‡½æ•°æ’åºè§„èŒƒ

**é—®é¢˜**: According to the solidity style guide, how should functions be ordered?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 24. å‡½æ•°ä¿®é¥°ç¬¦æ’åºè§„èŒƒ

**é—®é¢˜**: According to the solidity style guide, how should function modifiers be ordered?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 25. è”åˆæ›²çº¿

**é—®é¢˜**: What is a bonding curve?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 26. _safeMint vs _mint

**é—®é¢˜**: How does _safeMint differ from _mint in the OpenZeppelin ERC721 implementation?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 27. Solidity æ—¶é—´æµ‹é‡å…³é”®å­—

**é—®é¢˜**: What keywords are provided in Solidity to measure time?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 28. ä¸‰æ˜æ²»æ”»å‡»

**é—®é¢˜**: What is a sandwich attack?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 29. delegatecall å‡½æ•°å›é€€è¡Œä¸º

**é—®é¢˜**: If a delegatecall is made to a function that reverts, what does the delegatecall do?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 30. 2çš„å¹‚æ¬¡ä¹˜é™¤çš„é«˜æ•ˆæ›¿ä»£

**é—®é¢˜**: What is a gas efficient alternative to multiplying and dividing by a power of two?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 31. ä¸ address æ‰“åŒ…çš„æœ€å¤§ uint

**é—®é¢˜**: How large a uint can be packed with an address in one slot?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 32. éƒ¨åˆ†é€€è¿˜ gas çš„æ“ä½œ

**é—®é¢˜**: Which operations give a partial refund of gas?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 33. ERC165 çš„ç”¨é€”

**é—®é¢˜**: What is ERC165 used for?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 34. delegatecall ä¸­çš„ä½™é¢æŸ¥è¯¢

**é—®é¢˜**: If a proxy makes a delegatecall to A, and A does address(this).balance, whose balance is returned, the proxy's or A?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 35. æ»‘ç‚¹å‚æ•°çš„ç”¨é€”

**é—®é¢˜**: What is a slippage parameter useful for?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 36. ERC721A é™ä½é“¸é€ æˆæœ¬

**é—®é¢˜**: What does ERC721A do to reduce mint costs? What is the tradeoff?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 37. Solidity ä¸æ”¯æŒæµ®ç‚¹è¿ç®—

**é—®é¢˜**: Why doesn't Solidity support floating point arithmetic?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 38. ä»€ä¹ˆæ˜¯ TWAP

**é—®é¢˜**: What is TWAP?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 39. Compound å¦‚ä½•è®¡ç®—åˆ©ç”¨ç‡

**é—®é¢˜**: How does Compound Finance calculate utilization?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 40. delegatecall è¯»å– immutable å˜é‡

**é—®é¢˜**: If a delegatecall is made to a function that reads from an immutable variable, what will the value be?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 41. è½¬è´¦æ—¶æ”¶è´¹ä»£å¸

**é—®é¢˜**: What is a fee-on-transfer token?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 42. é‡æ–°å®šåŸºä»£å¸

**é—®é¢˜**: What is a rebasing token?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 43. uint32 æ—¶é—´æˆ³æº¢å‡ºå¹´ä»½

**é—®é¢˜**: In what year will a timestamp stored in a uint32 overflow?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 44. DeFi ä¸­çš„ LTV

**é—®é¢˜**: What is LTV in the context of DeFi?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 45. aTokens å’Œ cTokens

**é—®é¢˜**: What are aTokens and cTokens in the context of Compound Finance and AAVE?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 46. ä½¿ç”¨å€Ÿè´·åè®®åšå¤šåšç©º

**é—®é¢˜**: Describe how to use a lending protocol to go leveraged long or leveraged short on an asset.

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## 47. æ°¸ç»­åè®®

**é—®é¢˜**: What is a perpetual protocol?

### ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

â³ å¾…å®Œå–„

### ğŸ“ è¯¦ç»†è¯´æ˜

â³ å¾…å®Œå–„

---

## ğŸ“š ç›¸å…³èµ„æº

- [Solidity å®˜æ–¹æ–‡æ¡£](https://docs.soliditylang.org/)
- [OpenZeppelin åˆçº¦åº“](https://openzeppelin.com/contracts/)
- [ä»¥å¤ªåŠå¼€å‘è€…èµ„æº](https://ethereum.org/developers/)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™äº›é—®é¢˜å’Œç­”æ¡ˆï¼

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªä»“åº“å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**

</div>
